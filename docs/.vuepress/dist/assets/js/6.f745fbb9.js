(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{189:function(e,t,a){"use strict";a.r(t);var n=a(0),s=Object(n.a)({},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"搭建vue后台管理系统-系列一（搭建篇）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#搭建vue后台管理系统-系列一（搭建篇）","aria-hidden":"true"}},[e._v("#")]),e._v(" 搭建VUE后台管理系统 系列一（搭建篇）")]),e._v(" "),a("p",[e._v("[toc]\n"),a("img",{attrs:{src:"",alt:"Uploading TIM图片20190621191515.jpg… (feqzfcz8t)"}})]),e._v(" "),a("blockquote",[a("p",[e._v("Vue CLI 是一个基于 Vue.js 进行快速开发的完整系统")])]),e._v(" "),a("blockquote",[a("p",[e._v("vue脚手架 "),a("a",{attrs:{href:"https://cli.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-cli3.x"),a("OutboundLink")],1)])]),e._v(" "),a("blockquote",[a("p",[e._v("这份文档是对应 @vue/cli 3.x 版本的。")])]),e._v(" "),a("h2",{attrs:{id:"起步"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#起步","aria-hidden":"true"}},[e._v("#")]),e._v(" 起步")]),e._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm install -g @vue/cli\n")])])]),a("p",[e._v("确认是否安装：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC5PCd.png",alt:"eC5PCd.png"}})]),e._v(" "),a("h3",{attrs:{id:"创建一个项目："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建一个项目：","aria-hidden":"true"}},[e._v("#")]),e._v(" 创建一个项目：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("vue create my-project\n\n# OR\n\nvue ui // vue-cli 图形化用户界面\n")])])]),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC594H.png",alt:"eC594H.png"}})]),e._v(" "),a("p",[e._v("选择"),a("code",[e._v("Manually select features")]),e._v(" 手动配置")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC4xHO.png",alt:"eC4xHO.png"}})]),e._v(" "),a("p",[e._v("当你选择手动配置后会出现上面图上的东西，你可以自由选择用哪些配置，按上下键选择哪一个，按空格键勾选，选择好后，按enter键进行下一步，这里根据自己需求选了几个，选择项目需要的一些东西（此处我们选择需要Babel编译、Vue-router路由、Vuex状态管理器、CSS预处理器、代码检测以及格式化，暂时不考虑单元测试，端到端测试(E2E Testing)）")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC5SED.png",alt:"eC5SED.png"}})]),e._v(" "),a("p",[e._v("这是router路由器使用历史模式，我这边不用所以选择no")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC4vDK.png",alt:"eC4vDK.png"}})]),e._v(" "),a("p",[e._v("下一步之后问询问你安装哪一种CSS预处理语言，我是一直用的less，此处选择less")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC5pUe.png",alt:"eC5pUe.png"}})]),e._v(" "),a("p",[e._v("这个是询问你选择哪个eslint自动化格式化和代码规范检测，我选择ESlint + Standard代码规范")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC5FgI.png",alt:"eC5FgI.png"}})]),e._v(" "),a("p",[e._v("这里选择何时进行代码检测，此处选择在保存时进行检测")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC5i8A.png",alt:"eC5i8A.png"}})]),e._v(" "),a("p",[e._v("上边的意思是说babel，postcss，eslint等这些配置文件放在哪里？")]),e._v(" "),a("p",[e._v("第一个：放单独配置文件")]),e._v(" "),a("p",[e._v("第二个：放package.json里")]),e._v(" "),a("p",[e._v("推荐放单独配置文件，方便维护")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eC5kvt.png",alt:"eC5kvt.png"}})]),e._v(" "),a("p",[e._v('上边是问你将此保存为未来项目的预设？这是保存配置模板，方便以后快速搭建，选择"yes"保存，名称随便输入。')]),e._v(" "),a("p",[e._v("配置完成后等待npm自动下载好后，然后cd进去项目：")]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eCoppd.png",alt:"eCoppd.png"}})]),e._v(" "),a("p",[e._v("启动服务")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("npm run serve\n")])])]),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eCoMXq.png",alt:"eCoMXq.png"}})]),e._v(" "),a("p",[e._v("在浏览器输入地址"),a("code",[e._v("localhost:8084")])]),e._v(" "),a("p",[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/22/eCoYh4.png",alt:"eCoYh4.png"}})]),e._v(" "),a("p",[e._v("可以了，搭建项目已完成，下一篇基础安装引入配置等")]),e._v(" "),a("h2",{attrs:{id:"vue-config-js文件配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-config-js文件配置","aria-hidden":"true"}},[e._v("#")]),e._v(" vue.config.js文件配置")]),e._v(" "),a("blockquote",[a("p",[e._v("如果你之前用过vue-cli2.x的话，会发现项目内目录结构变化比较大，比2.x少了好多，而且找不到vue配置文件，以前的配置怎么搞？")])]),e._v(" "),a("blockquote",[a("p",[e._v("在根目录下新建"),a("code",[e._v("vue.config.js")]),e._v("文件可以进行配置，具体配置看文档。我这边列出常用的配置")])]),e._v(" "),a("h3",{attrs:{id:"配置代理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置代理","aria-hidden":"true"}},[e._v("#")]),e._v(" 配置代理")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v(" devServer: {\n    proxy: { // 设置代理\n      '/api': {\n        target: 'http://220.249.21.130:50232/warehouse', // 接口的基础地址\n        // secure: false,  // 如果是https接口，需要配置这个参数\n        ws: true, // 如果要代理 websockets\n        changeOrigin: true, // 如果接口跨域，需要进行这个参数配置\n        pathRewrite: {\n          '^/api': ''\n        }\n      }\n    }\n  },\n")])])]),a("h3",{attrs:{id:"配置webpack其他选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置webpack其他选项","aria-hidden":"true"}},[e._v("#")]),e._v(" 配置Webpack其他选项")]),e._v(" "),a("blockquote",[a("p",[e._v("三个插件不在这篇文章细讲，如何使用在三篇文章注明，三篇文章分别是《Vue CLI 配置 webpack-bundle-analyzer插件》、《Vue项目 配置webpack 自动删除生产环境的console调试信息》、《stylelint》")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const UglifyJsPlugin = require('uglifyjs-webpack-plugin') // uglify-js进行js文件的压缩，主要是删除console.log\nconst StylelintPlugin = require('stylelint-webpack-plugin') // stylelint，对css格式化规范检测\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin // 打包文件分析工具\n\nmodule.exports = {\n  // 选项...\n  publicPath: './', // 部署应用包时的基本 URL。 不加上的话部署后会显示空白页面\n  assetsDir: 'static', // 放置生成的静态资源 (js、css、img、fonts) 的目录。\n  transpileDependencies: ['vux/src/components', 'vue-preview', 'vue2-preview'],\n  devServer: {\n    proxy: { // 设置代理\n      '/api': {\n        target: 'http://220.249.21.130:50232/warehouse', // 接口的基础地址\n        // secure: false,  // 如果是https接口，需要配置这个参数\n        ws: true, // 如果要代理 websockets\n        changeOrigin: true, // 如果接口跨域，需要进行这个参数配置\n        pathRewrite: {\n          '^/api': ''\n        }\n      }\n    }\n  },\n  css: {\n    sourceMap: true // 是否为 CSS 开启 source map。设置为 true 之后可能会影响构建的性能。有了source map，浏览器直接显示less，快速查看在less文件中的位置，方便调试。\n  },\n  configureWebpack: config => {\n    if (process.env.NODE_ENV === 'production') {\n      // 为生产环境修改配置...\n      return {\n        optimization: {\n          minimizer: [\n            new UglifyJsPlugin({\n              uglifyOptions: {\n                compress: {\n                  warnings: false,\n                  drop_console: true, // 删除console.log\n                  drop_debugger: false // 自动删除debugger\n                  // pure_funcs: ['console.log'] // 移除console\n                }\n              }\n            })\n          ]\n        }\n      }\n    } else {\n      // 为开发环境修改配置...\n      return {\n        plugins: [\n          new StylelintPlugin({ // stylelint配置\n            files: ['**/*.{vue,html,less}']\n          })\n        ]\n      }\n    }\n  },\n  chainWebpack: config => {\n    // ...your other webpack config overrides here\n    if (process.env.NODE_ENV === 'production') {\n      if (process.env.npm_config_report) {\n        config.plugin('webpack-report')\n          .use(BundleAnalyzerPlugin, [{\n            // ...webpack-bundle-analyzer options here\n          }])\n      }\n    }\n  }\n}\n")])])]),a("h2",{attrs:{id:"注意："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#注意：","aria-hidden":"true"}},[e._v("#")]),e._v(" 注意：")]),e._v(" "),a("h3",{attrs:{id:"已安装vue-cli3-x，想使用2-x"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#已安装vue-cli3-x，想使用2-x","aria-hidden":"true"}},[e._v("#")]),e._v(" 已安装vue-cli3.x，想使用2.x")]),e._v(" "),a("p",[e._v("如果你不想用3.x的话，可以继续使用2.x的，你可以全局安装一个桥接工具，官方文档是这样说的：")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/creating-a-project.html#%E6%8B%89%E5%8F%96-2-x-%E6%A8%A1%E6%9D%BF-%E6%97%A7%E7%89%88%E6%9C%AC",target:"_blank",rel:"noopener noreferrer"}},[e._v("文档地址"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"https://imgchr.com/i/Zbvb5R",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/16/Zbvb5R.jpg",alt:"Zbvb5R.jpg"}}),a("OutboundLink")],1)]),e._v(" "),a("h3",{attrs:{id:"vue-cli3-x-新增命令图形化ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-cli3-x-新增命令图形化ui","aria-hidden":"true"}},[e._v("#")]),e._v(" vue-cli3.x 新增命令图形化UI")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://imgchr.com/i/ZqSd81",target:"_blank",rel:"noopener noreferrer"}},[a("img",{attrs:{src:"https://s2.ax1x.com/2019/07/16/ZqSd81.png",alt:"ZqSd81.png"}}),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("上边可以在视图操作创建和管理项目，很方便。我这边还是习惯用命令创建")]),e._v(" "),a("h3",{attrs:{id:"升级已有项目到vue-cli-3-x版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级已有项目到vue-cli-3-x版本","aria-hidden":"true"}},[e._v("#")]),e._v(" 升级已有项目到vue-cli 3.x版本")]),e._v(" "),a("blockquote",[a("p",[e._v("之前有考虑过通过将现有项目进行修改，安装@vue/cli以及相关的包，发现行不通。其实，最简单的方法，就是使用vue-cli 3.0，创建一个新的项目，然后将原有的项目的源码拷到新的项目中即可")])]),e._v(" "),a("ol",[a("li",[e._v("使用vue-cli创建新的项目")]),e._v(" "),a("li",[e._v("删除新项目中src下的内容")]),e._v(" "),a("li",[e._v("将原有项目src中的源码拷贝到新项目的src中")]),e._v(" "),a("li",[e._v("将原有项目的index.html及favicon.ico拷贝到新项目的public中")]),e._v(" "),a("li",[e._v("将原有的*static文件夹也拷贝到新项目的public中")]),e._v(" "),a("li",[e._v("修改package.json、.babelrc等文件，保持和原有项目一致即可")])]),e._v(" "),a("p",[e._v("参考资料：")]),e._v(" "),a("p",[e._v("https://www.jianshu.com/p/6307c568832d")])])},[],!1,null,null,null);t.default=s.exports}}]);